(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15cf61bb"],{5345:function(t,e,n){},8747:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container"},[n("div",{staticClass:"dashboard-text"},[t._v("學號: "+t._s(t.username))]),n("el-row",{attrs:{gutter:20}},t._l(t.items,(function(t){return n("Chart1",{key:t.id,attrs:{item:t,"class-name":t.group}})})),1)],1)},i=[],r=n("c7eb"),s=n("1da1"),c=n("5530"),o=(n("4de4"),n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})}),u=[],d=(n("99af"),n("fb6a"),n("b0c0"),n("b64b"),n("159b"),n("313e"));n("53ca"),n("4d63"),n("ac1f"),n("2c3e"),n("00b4"),n("25f0"),n("4d90"),n("5319");function h(t,e,n){var a,i,r,s,c,o=function o(){var u=+new Date-s;u<e&&u>0?a=setTimeout(o,e-u):(a=null,n||(c=t.apply(r,i),a||(r=i=null)))};return function(){for(var i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];r=this,s=+new Date;var h=n&&!a;return a||(a=setTimeout(o,e)),h&&(c=t.apply(r,u),r=u=null),c}}var l={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=h((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}},f=n("c443"),b=n("5c96");console.log(d),n("817d");var m=6e3,p={mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"500px"}},data:function(){return{data:[],chart:null,obj:{},labelList:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.initData()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initData:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var n,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=b["Loading"].service({fullscreen:!0}),e.next=3,Object(f["e"])(t.className);case 3:a=e.sent,a.data.forEach((function(e){t.labelList.push(e.user_no.slice(-2)),t.data.push(e.total)})),console.log(a),console.log(t.data),t.initChart(),n.close();case 9:case"end":return e.stop()}}),e)})))()},dashboardBarChart:function(){this.initChart()},initChart:function(){this.chart=d["init"](this.$el,"macarons"),console.log(Object.keys(this.obj));var t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"Direct",type:"bar",barWidth:"60%",data:[10,52,200,334,390,330,220]}]};t.series[0].name="".concat(this.className[0],"年").concat(this.className[1],"班"),t.series[0].data=this.data,t.xAxis[0].data=this.labelList,this.chart.setOption(t)},run:function(){if(this.chart){for(var t=0;t<this.data.length;++t)Math.random()>.9?this.data[t]+=Math.round(2e3*Math.random()):this.data[t]+=Math.round(200*Math.random());console.log(this.data),this.chart.setOption({series:[{type:"bar",data:this.data}]})}},startDataUpdate:function(){this.run(),setInterval(this.run,m)}}},v=p,g=n("2877"),$=Object(g["a"])(v,o,u,!1,null,null,null),_=$.exports,y=n("2f62"),w={name:"Dashboard",components:{Chart1:_},data:function(){return{items:[],listLoading:!1}},computed:Object(c["a"])({},Object(y["b"])(["name","username"])),created:function(){this.initData(this.$route.params.id)},methods:{initData:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var n,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=b["Loading"].service({fullscreen:!0}),e.next=4,Object(f["d"])();case 4:a=e.sent,n.close(),t.items=a.data.filter((function(t){return"teacher"!==t.group})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$message(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},go:function(t){var e=this;return Object(s["a"])(Object(r["a"])().mark((function n(){return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:try{e.$router.push("/teacher/user/"+t)}catch(a){e.$message(a)}case 1:case"end":return n.stop()}}),n)})))()}}},E=w,j=(n("b053"),Object(g["a"])(E,a,i,!1,null,"57a72a51",null));e["default"]=j.exports},b053:function(t,e,n){"use strict";n("5345")},c443:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return o})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return d}));var a=n("b775");function i(){return Object(a["a"])({url:"/dashboard/message/user/list",method:"get"})}function r(t){return Object(a["a"])({url:"/dashboard/message/user/"+t,method:"get"})}function s(){return Object(a["a"])({url:"/dashboard/message/userGroup/list",method:"get"})}function c(t){return Object(a["a"])({url:"/dashboard/message/userGroup/"+t,method:"get"})}function o(t){return Object(a["a"])({url:"/gpt-history",method:"get",params:t})}function u(t){return Object(a["a"])({url:"/gpt-history",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/gpt-endMessage",method:"post",data:t})}}}]);