(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa23fce2"],{"27ad":function(t,e,a){},8747:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"dashboard-text"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"活动区域"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},t._l(t.items,(function(e){return a("el-col",{key:e.id,attrs:{span:12}},[t._v(" "+t._s(e.group[0])+"年"+t._s(e.group[1])+"班 "),a("Chart1",{attrs:{item:e,"class-name":e.group}})],1)})),1)],1)},r=[],i=a("c7eb"),s=a("1da1"),o=a("5530"),c=(a("4de4"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})}),u=[],d=(a("99af"),a("fb6a"),a("b0c0"),a("b64b"),a("159b"),a("313e"));a("53ca"),a("4d63"),a("ac1f"),a("2c3e"),a("00b4"),a("25f0"),a("4d90"),a("5319");function l(t,e,a){var n,r,i,s,o,c=function c(){var u=+new Date-s;u<e&&u>0?n=setTimeout(c,e-u):(n=null,a||(o=t.apply(i,r),n||(i=r=null)))};return function(){for(var r=arguments.length,u=new Array(r),d=0;d<r;d++)u[d]=arguments[d];i=this,s=+new Date;var l=a&&!n;return n||(n=setTimeout(c,e)),l&&(o=t.apply(i,u),i=u=null),o}}var h={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=l((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}},f=a("c443"),b=a("5c96");console.log(d),a("817d");var m=6e3,p={mixins:[h],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"220px"}},data:function(){return{data:[],chart:null,obj:{},labelList:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.initData()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initData:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=b["Loading"].service({fullscreen:!0}),e.next=3,Object(f["e"])(t.className);case 3:n=e.sent,n.data.forEach((function(e){t.labelList.push(e.user_no.slice(-2)),t.data.push(e.total)})),console.log(n),console.log(t.data),t.initChart(),a.close();case 9:case"end":return e.stop()}}),e)})))()},dashboardBarChart:function(){this.initChart()},initChart:function(){this.chart=d["init"](this.$el,"macarons"),console.log(Object.keys(this.obj));var t={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"Direct",type:"bar",barWidth:"60%",data:[10,52,200,334,390,330,220]}]};t.series[0].name="".concat(this.className[0],"年").concat(this.className[1],"班"),t.series[0].data=this.data,t.xAxis[0].data=this.labelList,this.chart.setOption(t)},run:function(){if(this.chart){for(var t=0;t<this.data.length;++t)Math.random()>.9?this.data[t]+=Math.round(2e3*Math.random()):this.data[t]+=Math.round(200*Math.random());console.log(this.data),this.chart.setOption({series:[{type:"bar",data:this.data}]})}},startDataUpdate:function(){this.run(),setInterval(this.run,m)}}},v=p,g=a("2877"),$=Object(g["a"])(v,c,u,!1,null,null,null),_=$.exports,w=a("2f62"),y={name:"Dashboard",components:{Chart1:_},data:function(){return{items:[],listLoading:!1}},computed:Object(o["a"])({},Object(w["b"])(["name","username"])),created:function(){this.initData(this.$route.params.id)},methods:{initData:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var a,n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=b["Loading"].service({fullscreen:!0}),e.next=4,Object(f["d"])();case 4:n=e.sent,a.close(),t.items=n.data.filter((function(t){return"teacher"!==t.group})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.$message(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},go:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:try{e.$router.push("/teacher/user/"+t)}catch(n){e.$message(n)}case 1:case"end":return a.stop()}}),a)})))()}}},j=y,E=(a("c33d"),Object(g["a"])(j,n,r,!1,null,"dda9df4e",null));e["default"]=E.exports},c33d:function(t,e,a){"use strict";a("27ad")},c443:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"g",(function(){return u})),a.d(e,"f",(function(){return d}));var n=a("b775");function r(){return Object(n["a"])({url:"/dashboard/message/user/list",method:"get"})}function i(t){return Object(n["a"])({url:"/dashboard/message/user/"+t,method:"get"})}function s(){return Object(n["a"])({url:"/dashboard/message/userGroup/list",method:"get"})}function o(t){return Object(n["a"])({url:"/dashboard/message/userGroup/"+t,method:"get"})}function c(t){return Object(n["a"])({url:"/gpt-history",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/gpt-history",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/gpt-endMessage",method:"post",data:t})}}}]);